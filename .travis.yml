language: node_js
sudo: required
os:
  - osx
  - linux
node_js:
  - 10
  - 9
  - 8
before_install:
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get install opam ; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install opam ; fi
install:
  - npm i || exit 1
  - opam install cmdliner
script:
  - npm run build || exit 1
  - node src/Demo.bs.js || exit 1
